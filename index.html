<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Optimizer</title>
    <!-- Core Styles -->
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/datepicker.css">
    <link rel="stylesheet" href="styles/forms.css">
    <link rel="stylesheet" href="styles/themes.css">
    <link rel="stylesheet" href="styles/layout.css">
    <!-- Third Party CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="spinner-overlay" id="loadingSpinner">
        <div class="spinner-container">
            <div class="spinner"></div>
            <div class="spinner-text">This might take a while...</div>
        </div>
    </div>
    
    <button class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-sun"></i>
    </button>
    <a href="https://github.com/aradng/flight-optimizer" class="github-link" target="_blank">
        <img src="assets/github.svg" alt="GitHub">
    </a>
    <h2>Flight Optimizer</h2>
    
    <div class="toggle-container">
        <span class="toggle-button active" id="originToggle" onclick="setType('origin')">Origin</span>
        <span class="toggle-button" id="destinationToggle" onclick="setType('destination')">Destination</span>
    </div>
    <label for="airport">Search Airport:</label>
    <input type="text" id="airport" placeholder="Enter airport name" oninput="fetchAirports()">
    <ul id="airport-list" class="airport-list"></ul>
    
    <h3>Find Flights</h3>
    <form id="flightForm" class="flight-form" onsubmit="handleSubmit(event)">
        <div class="form-section">
            <div class="form-row">
                <div class="form-group">
                    <label>Origins:</label>
                    <div class="list-container" id="origins-list"></div>
                </div>
                
                <div class="form-group">
                    <label>Destinations:</label>
                    <div class="list-container" id="destinations-list"></div>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="numeric-inputs">
                <div class="date-period">
                    <label>
                        Travel Period
                        <input type="text" id="dateRange" class="date-range-input" required>
                    </label>
                </div>
                <div class="number-controls">
                    <label>
                        <div class="numeric-control-group">
                            <div class="label-text">Passengers</div>
                            <div class="number-control">
                                <button type="button" onclick="adjustValue('passengers', -1)" class="adjust-btn">-</button>
                                <input type="number" id="passengers" min="1" value="1" required class="small-input">
                                <button type="button" onclick="adjustValue('passengers', 1)" class="adjust-btn">+</button>
                            </div>
                        </div>
                    </label>
                    <label>
                        <div class="numeric-control-group">
                            <div class="label-text">Minimum Days</div>
                            <div class="number-control">
                                <button type="button" onclick="adjustValue('minDays', -1)" class="adjust-btn">-</button>
                                <input type="number" id="minDays" min="1" value="5" required class="small-input">
                                <button type="button" onclick="adjustValue('minDays', 1)" class="adjust-btn">+</button>
                            </div>
                        </div>
                    </label>
                    <label>
                        <div class="numeric-control-group">
                            <div class="label-text">Maximum Days</div>
                            <div class="number-control">
                                <button type="button" onclick="adjustValue('maxDays', -1)" class="adjust-btn">-</button>
                                <input type="number" id="maxDays" min="1" max="30" value="10" required class="small-input">
                                <button type="button" onclick="adjustValue('maxDays', 1)" class="adjust-btn">+</button>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="search-button">Search Flights</button>
            <button type="button" onclick="toggleView()" class="search-button" id="viewToggleBtn">
                Switch to Card View
            </button>
        </div>
    </form>
    
    <div id="results" class="results-container"></div>

    <script src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    
    <script src="scripts/theme.js"></script>
    <script src="scripts/airports.js"></script>
    <script src="scripts/spinner.js"></script>
    <script src="scripts/results.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>